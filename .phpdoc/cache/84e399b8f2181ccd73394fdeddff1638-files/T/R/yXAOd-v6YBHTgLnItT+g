1738044998
84e399b8f2181ccd73394fdeddff1638-phpdoc%3Afcfdfefc7c1fad87021d90b9dc2a7234-4418c2ff41dd7c4d1a763b39c3007cf5
s:10352:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjMxOiJSZXNldFBhc3N3b3JkQ29udHJvbGxlci50cGwucGhwIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjQ0MThjMmZmNDFkZDdjNGQxYTc2M2IzOWMzMDA3Y2Y1IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6OTY6InZlbmRvci9zeW1mb255L21ha2VyLWJ1bmRsZS9zcmMvUmVzb3VyY2VzL3NrZWxldG9uL3Jlc2V0UGFzc3dvcmQvUmVzZXRQYXNzd29yZENvbnRyb2xsZXIudHBsLnBocCI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6Njc2NzoiPD89ICI8P3BocFxuIiA/PgoKbmFtZXNwYWNlIDw/PSAkbmFtZXNwYWNlID8+OwoKPD89ICR1c2Vfc3RhdGVtZW50czsgPz4KCiNbUm91dGUoJy9yZXNldC1wYXNzd29yZCcpXQpjbGFzcyA8Pz0gJGNsYXNzX25hbWUgPz4gZXh0ZW5kcyBBYnN0cmFjdENvbnRyb2xsZXIKewogICAgdXNlIFJlc2V0UGFzc3dvcmRDb250cm9sbGVyVHJhaXQ7CgogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KAogICAgICAgIHByaXZhdGUgUmVzZXRQYXNzd29yZEhlbHBlckludGVyZmFjZSAkcmVzZXRQYXNzd29yZEhlbHBlciwKICAgICAgICBwcml2YXRlIEVudGl0eU1hbmFnZXJJbnRlcmZhY2UgJGVudGl0eU1hbmFnZXIKICAgICkgewogICAgfQoKICAgIC8qKgogICAgICogRGlzcGxheSAmIHByb2Nlc3MgZm9ybSB0byByZXF1ZXN0IGEgcGFzc3dvcmQgcmVzZXQuCiAgICAgKi8KICAgICNbUm91dGUoJycsIG5hbWU6ICdhcHBfZm9yZ290X3Bhc3N3b3JkX3JlcXVlc3QnKV0KICAgIHB1YmxpYyBmdW5jdGlvbiByZXF1ZXN0KFJlcXVlc3QgJHJlcXVlc3QsIE1haWxlckludGVyZmFjZSAkbWFpbGVyPD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+LCBUcmFuc2xhdG9ySW50ZXJmYWNlICR0cmFuc2xhdG9yPD9waHAgZW5kaWYgPz4pOiBSZXNwb25zZQogICAgewogICAgICAgICRmb3JtID0gJHRoaXMtPmNyZWF0ZUZvcm0oPD89ICRyZXF1ZXN0X2Zvcm1fdHlwZV9jbGFzc19uYW1lID8+OjpjbGFzcyk7CiAgICAgICAgJGZvcm0tPmhhbmRsZVJlcXVlc3QoJHJlcXVlc3QpOwoKICAgICAgICBpZiAoJGZvcm0tPmlzU3VibWl0dGVkKCkgJiYgJGZvcm0tPmlzVmFsaWQoKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnByb2Nlc3NTZW5kaW5nUGFzc3dvcmRSZXNldEVtYWlsKAogICAgICAgICAgICAgICAgJGZvcm0tPmdldCgnPD89ICRlbWFpbF9maWVsZCA/PicpLT5nZXREYXRhKCksCiAgICAgICAgICAgICAgICAkbWFpbGVyPD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+LAogICAgICAgICAgICAgICAgJHRyYW5zbGF0b3I8P3BocCBlbmRpZiA/Pjw/PSAiXG4iID8+CiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlbmRlcigncmVzZXRfcGFzc3dvcmQvcmVxdWVzdC5odG1sLnR3aWcnLCBbCiAgICAgICAgICAgICdyZXF1ZXN0Rm9ybScgPT4gJGZvcm0sCiAgICAgICAgXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25maXJtYXRpb24gcGFnZSBhZnRlciBhIHVzZXIgaGFzIHJlcXVlc3RlZCBhIHBhc3N3b3JkIHJlc2V0LgogICAgICovCiAgICAjW1JvdXRlKCcvY2hlY2stZW1haWwnLCBuYW1lOiAnYXBwX2NoZWNrX2VtYWlsJyldCiAgICBwdWJsaWMgZnVuY3Rpb24gY2hlY2tFbWFpbCgpOiBSZXNwb25zZQogICAgewogICAgICAgIC8vIEdlbmVyYXRlIGEgZmFrZSB0b2tlbiBpZiB0aGUgdXNlciBkb2VzIG5vdCBleGlzdCBvciBzb21lb25lIGhpdCB0aGlzIHBhZ2UgZGlyZWN0bHkuCiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBleHBvc2luZyB3aGV0aGVyIG9yIG5vdCBhIHVzZXIgd2FzIGZvdW5kIHdpdGggdGhlIGdpdmVuIGVtYWlsIGFkZHJlc3Mgb3Igbm90CiAgICAgICAgaWYgKG51bGwgPT09ICgkcmVzZXRUb2tlbiA9ICR0aGlzLT5nZXRUb2tlbk9iamVjdEZyb21TZXNzaW9uKCkpKSB7CiAgICAgICAgICAgICRyZXNldFRva2VuID0gJHRoaXMtPnJlc2V0UGFzc3dvcmRIZWxwZXItPmdlbmVyYXRlRmFrZVJlc2V0VG9rZW4oKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVuZGVyKCdyZXNldF9wYXNzd29yZC9jaGVja19lbWFpbC5odG1sLnR3aWcnLCBbCiAgICAgICAgICAgICdyZXNldFRva2VuJyA9PiAkcmVzZXRUb2tlbiwKICAgICAgICBdKTsKICAgIH0KCiAgICAvKioKICAgICAqIFZhbGlkYXRlcyBhbmQgcHJvY2VzcyB0aGUgcmVzZXQgVVJMIHRoYXQgdGhlIHVzZXIgY2xpY2tlZCBpbiB0aGVpciBlbWFpbC4KICAgICAqLwogICAgI1tSb3V0ZSgnL3Jlc2V0L3t0b2tlbn0nLCBuYW1lOiAnYXBwX3Jlc2V0X3Bhc3N3b3JkJyldCiAgICBwdWJsaWMgZnVuY3Rpb24gcmVzZXQoUmVxdWVzdCAkcmVxdWVzdCwgVXNlclBhc3N3b3JkSGFzaGVySW50ZXJmYWNlICRwYXNzd29yZEhhc2hlcjw/cGhwIGlmICgkdHJhbnNsYXRvcl9hdmFpbGFibGUpOiA/PiwgVHJhbnNsYXRvckludGVyZmFjZSAkdHJhbnNsYXRvcjw/cGhwIGVuZGlmID8+LCBzdHJpbmcgJHRva2VuID0gbnVsbCk6IFJlc3BvbnNlCiAgICB7CiAgICAgICAgaWYgKCR0b2tlbikgewogICAgICAgICAgICAvLyBXZSBzdG9yZSB0aGUgdG9rZW4gaW4gc2Vzc2lvbiBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIFVSTCwgdG8gYXZvaWQgdGhlIFVSTCBiZWluZwogICAgICAgICAgICAvLyBsb2FkZWQgaW4gYSBicm93c2VyIGFuZCBwb3RlbnRpYWxseSBsZWFraW5nIHRoZSB0b2tlbiB0byAzcmQgcGFydHkgSmF2YVNjcmlwdC4KICAgICAgICAgICAgJHRoaXMtPnN0b3JlVG9rZW5JblNlc3Npb24oJHRva2VuKTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfcmVzZXRfcGFzc3dvcmQnKTsKICAgICAgICB9CgogICAgICAgICR0b2tlbiA9ICR0aGlzLT5nZXRUb2tlbkZyb21TZXNzaW9uKCk7CiAgICAgICAgaWYgKG51bGwgPT09ICR0b2tlbikgewogICAgICAgICAgICB0aHJvdyAkdGhpcy0+Y3JlYXRlTm90Rm91bmRFeGNlcHRpb24oJ05vIHJlc2V0IHBhc3N3b3JkIHRva2VuIGZvdW5kIGluIHRoZSBVUkwgb3IgaW4gdGhlIHNlc3Npb24uJyk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAvKiogQHZhciA8Pz0gJHVzZXJfY2xhc3NfbmFtZSA/PiAkdXNlciAqLwogICAgICAgICAgICAkdXNlciA9ICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyLT52YWxpZGF0ZVRva2VuQW5kRmV0Y2hVc2VyKCR0b2tlbik7CiAgICAgICAgfSBjYXRjaCAoUmVzZXRQYXNzd29yZEV4Y2VwdGlvbkludGVyZmFjZSAkZSkgewogICAgICAgICAgICAkdGhpcy0+YWRkRmxhc2goJ3Jlc2V0X3Bhc3N3b3JkX2Vycm9yJywgc3ByaW50ZigKICAgICAgICAgICAgICAgICclcyAtICVzJywKICAgICAgICAgICAgICAgIDw/cGhwIGlmICgkdHJhbnNsYXRvcl9hdmFpbGFibGUpOiA/PiR0cmFuc2xhdG9yLT50cmFucyg8Pz0gJHByb2JsZW1fdmFsaWRhdGVfbWVzc2FnZV9vcl9jb25zdGFudCA/PiwgW10sICdSZXNldFBhc3N3b3JkQnVuZGxlJyk8P3BocCBlbHNlOiA/Pjw/PSAkcHJvYmxlbV92YWxpZGF0ZV9tZXNzYWdlX29yX2NvbnN0YW50ID8+PD9waHAgZW5kaWYgPz4sCiAgICAgICAgICAgICAgICA8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4kdHJhbnNsYXRvci0+dHJhbnMoJGUtPmdldFJlYXNvbigpLCBbXSwgJ1Jlc2V0UGFzc3dvcmRCdW5kbGUnKTw/cGhwIGVsc2U6ID8+JGUtPmdldFJlYXNvbigpPD9waHAgZW5kaWYgPz48Pz0gIlxuIiA/PgogICAgICAgICAgICApKTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfZm9yZ290X3Bhc3N3b3JkX3JlcXVlc3QnKTsKICAgICAgICB9CgogICAgICAgIC8vIFRoZSB0b2tlbiBpcyB2YWxpZDsgYWxsb3cgdGhlIHVzZXIgdG8gY2hhbmdlIHRoZWlyIHBhc3N3b3JkLgogICAgICAgICRmb3JtID0gJHRoaXMtPmNyZWF0ZUZvcm0oPD89ICRyZXNldF9mb3JtX3R5cGVfY2xhc3NfbmFtZSA/Pjo6Y2xhc3MpOwogICAgICAgICRmb3JtLT5oYW5kbGVSZXF1ZXN0KCRyZXF1ZXN0KTsKCiAgICAgICAgaWYgKCRmb3JtLT5pc1N1Ym1pdHRlZCgpICYmICRmb3JtLT5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgLy8gQSBwYXNzd29yZCByZXNldCB0b2tlbiBzaG91bGQgYmUgdXNlZCBvbmx5IG9uY2UsIHJlbW92ZSBpdC4KICAgICAgICAgICAgJHRoaXMtPnJlc2V0UGFzc3dvcmRIZWxwZXItPnJlbW92ZVJlc2V0UmVxdWVzdCgkdG9rZW4pOwoKICAgICAgICAgICAgLy8gRW5jb2RlKGhhc2gpIHRoZSBwbGFpbiBwYXNzd29yZCwgYW5kIHNldCBpdC4KICAgICAgICAgICAgJGVuY29kZWRQYXNzd29yZCA9ICRwYXNzd29yZEhhc2hlci0+aGFzaFBhc3N3b3JkKAogICAgICAgICAgICAgICAgJHVzZXIsCiAgICAgICAgICAgICAgICAkZm9ybS0+Z2V0KCdwbGFpblBhc3N3b3JkJyktPmdldERhdGEoKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgJHVzZXItPjw/PSAkcGFzc3dvcmRfc2V0dGVyID8+KCRlbmNvZGVkUGFzc3dvcmQpOwogICAgICAgICAgICAkdGhpcy0+ZW50aXR5TWFuYWdlci0+Zmx1c2goKTsKCiAgICAgICAgICAgIC8vIFRoZSBzZXNzaW9uIGlzIGNsZWFuZWQgdXAgYWZ0ZXIgdGhlIHBhc3N3b3JkIGhhcyBiZWVuIGNoYW5nZWQuCiAgICAgICAgICAgICR0aGlzLT5jbGVhblNlc3Npb25BZnRlclJlc2V0KCk7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnPD89ICRzdWNjZXNzX3JlZGlyZWN0X3JvdXRlID8+Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlbmRlcigncmVzZXRfcGFzc3dvcmQvcmVzZXQuaHRtbC50d2lnJywgWwogICAgICAgICAgICAncmVzZXRGb3JtJyA9PiAkZm9ybSwKICAgICAgICBdKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIHByb2Nlc3NTZW5kaW5nUGFzc3dvcmRSZXNldEVtYWlsKHN0cmluZyAkZW1haWxGb3JtRGF0YSwgTWFpbGVySW50ZXJmYWNlICRtYWlsZXI8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4sIFRyYW5zbGF0b3JJbnRlcmZhY2UgJHRyYW5zbGF0b3I8P3BocCBlbmRpZiA/Pik6IFJlZGlyZWN0UmVzcG9uc2UKICAgIHsKICAgICAgICAkdXNlciA9ICR0aGlzLT5lbnRpdHlNYW5hZ2VyLT5nZXRSZXBvc2l0b3J5KDw/PSAkdXNlcl9jbGFzc19uYW1lID8+OjpjbGFzcyktPmZpbmRPbmVCeShbCiAgICAgICAgICAgICc8Pz0gJGVtYWlsX2ZpZWxkID8+JyA9PiAkZW1haWxGb3JtRGF0YSwKICAgICAgICBdKTsKCiAgICAgICAgLy8gRG8gbm90IHJldmVhbCB3aGV0aGVyIGEgdXNlciBhY2NvdW50IHdhcyBmb3VuZCBvciBub3QuCiAgICAgICAgaWYgKCEkdXNlcikgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2NoZWNrX2VtYWlsJyk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAkcmVzZXRUb2tlbiA9ICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyLT5nZW5lcmF0ZVJlc2V0VG9rZW4oJHVzZXIpOwogICAgICAgIH0gY2F0Y2ggKFJlc2V0UGFzc3dvcmRFeGNlcHRpb25JbnRlcmZhY2UgJGUpIHsKICAgICAgICAgICAgLy8gSWYgeW91IHdhbnQgdG8gdGVsbCB0aGUgdXNlciB3aHkgYSByZXNldCBlbWFpbCB3YXMgbm90IHNlbnQsIHVuY29tbWVudAogICAgICAgICAgICAvLyB0aGUgbGluZXMgYmVsb3cgYW5kIGNoYW5nZSB0aGUgcmVkaXJlY3QgdG8gJ2FwcF9mb3Jnb3RfcGFzc3dvcmRfcmVxdWVzdCcuCiAgICAgICAgICAgIC8vIENhdXRpb246IFRoaXMgbWF5IHJldmVhbCBpZiBhIHVzZXIgaXMgcmVnaXN0ZXJlZCBvciBub3QuCiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vICR0aGlzLT5hZGRGbGFzaCgncmVzZXRfcGFzc3dvcmRfZXJyb3InLCBzcHJpbnRmKAogICAgICAgICAgICAvLyAgICAgJyVzIC0gJXMnLAogICAgICAgICAgICAvLyAgICAgPD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+JHRyYW5zbGF0b3ItPnRyYW5zKDw/PSAkcHJvYmxlbV9oYW5kbGVfbWVzc2FnZV9vcl9jb25zdGFudCA/PiwgW10sICdSZXNldFBhc3N3b3JkQnVuZGxlJyk8P3BocCBlbHNlOiA/Pjw/PSAkcHJvYmxlbV9oYW5kbGVfbWVzc2FnZV9vcl9jb25zdGFudCA/Pjw/cGhwIGVuZGlmID8+LAogICAgICAgICAgICAvLyAgICAgPD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+JHRyYW5zbGF0b3ItPnRyYW5zKCRlLT5nZXRSZWFzb24oKSwgW10sICdSZXNldFBhc3N3b3JkQnVuZGxlJyk8P3BocCBlbHNlOiA/PiRlLT5nZXRSZWFzb24oKTw/cGhwIGVuZGlmID8+PD89ICJcbiIgPz4KICAgICAgICAgICAgLy8gKSk7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2NoZWNrX2VtYWlsJyk7CiAgICAgICAgfQoKICAgICAgICAkZW1haWwgPSAobmV3IFRlbXBsYXRlZEVtYWlsKCkpCiAgICAgICAgICAgIC0+ZnJvbShuZXcgQWRkcmVzcygnPD89ICRmcm9tX2VtYWlsID8+JywgJzw/PSAkZnJvbV9lbWFpbF9uYW1lID8+JykpCiAgICAgICAgICAgIC0+dG8oJHVzZXItPjw/PSAkZW1haWxfZ2V0dGVyID8+KCkpCiAgICAgICAgICAgIC0+c3ViamVjdCgnWW91ciBwYXNzd29yZCByZXNldCByZXF1ZXN0JykKICAgICAgICAgICAgLT5odG1sVGVtcGxhdGUoJ3Jlc2V0X3Bhc3N3b3JkL2VtYWlsLmh0bWwudHdpZycpCiAgICAgICAgICAgIC0+Y29udGV4dChbCiAgICAgICAgICAgICAgICAncmVzZXRUb2tlbicgPT4gJHJlc2V0VG9rZW4sCiAgICAgICAgICAgIF0pCiAgICAgICAgOwoKICAgICAgICAkbWFpbGVyLT5zZW5kKCRlbWFpbCk7CgogICAgICAgIC8vIFN0b3JlIHRoZSB0b2tlbiBvYmplY3QgaW4gc2Vzc2lvbiBmb3IgcmV0cmlldmFsIGluIGNoZWNrLWVtYWlsIHJvdXRlLgogICAgICAgICR0aGlzLT5zZXRUb2tlbk9iamVjdEluU2Vzc2lvbigkcmVzZXRUb2tlbik7CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfY2hlY2tfZW1haWwnKTsKICAgIH0KfQoiO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZG9jQmxvY2siO047czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBtZXRhZGF0YSI7YTowOnt9fQ==";