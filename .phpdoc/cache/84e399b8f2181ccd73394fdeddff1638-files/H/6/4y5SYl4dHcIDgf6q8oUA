1738044998
84e399b8f2181ccd73394fdeddff1638-phpdoc%3A30dd638f503a9275c51aa0cf4fa66636-11625ac424f3443483d4dc89d9179946
s:6648:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjMwOiJSZWdpc3RyYXRpb25Db250cm9sbGVyLnRwbC5waHAiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaGFzaCI7czozMjoiMTE2MjVhYzQyNGYzNDQzNDgzZDRkYzg5ZDkxNzk5NDYiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czo5NDoidmVuZG9yL3N5bWZvbnkvbWFrZXItYnVuZGxlL3NyYy9SZXNvdXJjZXMvc2tlbGV0b24vcmVnaXN0cmF0aW9uL1JlZ2lzdHJhdGlvbkNvbnRyb2xsZXIudHBsLnBocCI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6Mzk5MzoiPD89ICI8P3BocFxuIiA/PgoKbmFtZXNwYWNlIDw/PSAkbmFtZXNwYWNlOyA/PjsKCjw/PSAkdXNlX3N0YXRlbWVudHM7ID8+CgpjbGFzcyA8Pz0gJGNsYXNzX25hbWU7ID8+IGV4dGVuZHMgQWJzdHJhY3RDb250cm9sbGVyCnsKPD9waHAgaWYgKCR3aWxsX3ZlcmlmeV9lbWFpbCk6ID8+CiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QocHJpdmF0ZSA8Pz0gJGdlbmVyYXRvci0+Z2V0UHJvcGVydHlUeXBlKCRlbWFpbF92ZXJpZmllcl9jbGFzc19kZXRhaWxzKSA/PiRlbWFpbFZlcmlmaWVyKQogICAgewogICAgfQoKPD9waHAgZW5kaWY7ID8+Cjw/PSAkZ2VuZXJhdG9yLT5nZW5lcmF0ZVJvdXRlRm9yQ29udHJvbGxlck1ldGhvZCgkcm91dGVfcGF0aCwgJHJvdXRlX25hbWUpID8+CiAgICBwdWJsaWMgZnVuY3Rpb24gcmVnaXN0ZXIoUmVxdWVzdCAkcmVxdWVzdCwgVXNlclBhc3N3b3JkSGFzaGVySW50ZXJmYWNlICR1c2VyUGFzc3dvcmRIYXNoZXI8Pz0gJGxvZ2luX2FmdGVyX3JlZ2lzdHJhdGlvbiA/ICcsIFNlY3VyaXR5ICRzZWN1cml0eSc6ICcnID8+LCBFbnRpdHlNYW5hZ2VySW50ZXJmYWNlICRlbnRpdHlNYW5hZ2VyKTogUmVzcG9uc2UKICAgIHsKICAgICAgICAkdXNlciA9IG5ldyA8Pz0gJHVzZXJfY2xhc3NfbmFtZSA/PigpOwogICAgICAgICRmb3JtID0gJHRoaXMtPmNyZWF0ZUZvcm0oPD89ICRmb3JtX2NsYXNzX25hbWUgPz46OmNsYXNzLCAkdXNlcik7CiAgICAgICAgJGZvcm0tPmhhbmRsZVJlcXVlc3QoJHJlcXVlc3QpOwoKICAgICAgICBpZiAoJGZvcm0tPmlzU3VibWl0dGVkKCkgJiYgJGZvcm0tPmlzVmFsaWQoKSkgewogICAgICAgICAgICAvLyBlbmNvZGUgdGhlIHBsYWluIHBhc3N3b3JkCiAgICAgICAgICAgICR1c2VyLT5zZXQ8Pz0gdWNmaXJzdCgkcGFzc3dvcmRfZmllbGQpID8+KAogICAgICAgICAgICAgICAgICAgICR1c2VyUGFzc3dvcmRIYXNoZXItPmhhc2hQYXNzd29yZCgKICAgICAgICAgICAgICAgICAgICAkdXNlciwKICAgICAgICAgICAgICAgICAgICAkZm9ybS0+Z2V0KCdwbGFpblBhc3N3b3JkJyktPmdldERhdGEoKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgJGVudGl0eU1hbmFnZXItPnBlcnNpc3QoJHVzZXIpOwogICAgICAgICAgICAkZW50aXR5TWFuYWdlci0+Zmx1c2goKTsKPD9waHAgaWYgKCR3aWxsX3ZlcmlmeV9lbWFpbCk6ID8+CgogICAgICAgICAgICAvLyBnZW5lcmF0ZSBhIHNpZ25lZCB1cmwgYW5kIGVtYWlsIGl0IHRvIHRoZSB1c2VyCiAgICAgICAgICAgICR0aGlzLT5lbWFpbFZlcmlmaWVyLT5zZW5kRW1haWxDb25maXJtYXRpb24oJ2FwcF92ZXJpZnlfZW1haWwnLCAkdXNlciwKICAgICAgICAgICAgICAgIChuZXcgVGVtcGxhdGVkRW1haWwoKSkKICAgICAgICAgICAgICAgICAgICAtPmZyb20obmV3IEFkZHJlc3MoJzw/PSAkZnJvbV9lbWFpbCA/PicsICc8Pz0gJGZyb21fZW1haWxfbmFtZSA/PicpKQogICAgICAgICAgICAgICAgICAgIC0+dG8oJHVzZXItPjw/PSAkZW1haWxfZ2V0dGVyID8+KCkpCiAgICAgICAgICAgICAgICAgICAgLT5zdWJqZWN0KCdQbGVhc2UgQ29uZmlybSB5b3VyIEVtYWlsJykKICAgICAgICAgICAgICAgICAgICAtPmh0bWxUZW1wbGF0ZSgncmVnaXN0cmF0aW9uL2NvbmZpcm1hdGlvbl9lbWFpbC5odG1sLnR3aWcnKQogICAgICAgICAgICApOwo8P3BocCBlbmRpZjsgPz4KCiAgICAgICAgICAgIC8vIGRvIGFueXRoaW5nIGVsc2UgeW91IG5lZWQgaGVyZSwgbGlrZSBzZW5kIGFuIGVtYWlsCgo8P3BocCBpZiAoJGxvZ2luX2FmdGVyX3JlZ2lzdHJhdGlvbik6ID8+CiAgICAgICAgICAgIHJldHVybiAkc2VjdXJpdHktPmxvZ2luKCR1c2VyLCA8Pz0gJGF1dGhlbnRpY2F0b3IgPz4sICc8Pz0gJGZpcmV3YWxsID8+Jyk7Cjw/cGhwIGVsc2U6ID8+CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCc8Pz0gJHJlZGlyZWN0X3JvdXRlX25hbWUgPz4nKTsKPD9waHAgZW5kaWY7ID8+CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlbmRlcigncmVnaXN0cmF0aW9uL3JlZ2lzdGVyLmh0bWwudHdpZycsIFsKICAgICAgICAgICAgJ3JlZ2lzdHJhdGlvbkZvcm0nID0+ICRmb3JtLAogICAgICAgIF0pOwogICAgfQo8P3BocCBpZiAoJHdpbGxfdmVyaWZ5X2VtYWlsKTogPz4KCjw/PSAkZ2VuZXJhdG9yLT5nZW5lcmF0ZVJvdXRlRm9yQ29udHJvbGxlck1ldGhvZCgnL3ZlcmlmeS9lbWFpbCcsICdhcHBfdmVyaWZ5X2VtYWlsJykgPz4KICAgIHB1YmxpYyBmdW5jdGlvbiB2ZXJpZnlVc2VyRW1haWwoUmVxdWVzdCAkcmVxdWVzdDw/cGhwIGlmICgkdHJhbnNsYXRvcl9hdmFpbGFibGUpOiA/PiwgVHJhbnNsYXRvckludGVyZmFjZSAkdHJhbnNsYXRvcjw/cGhwIGVuZGlmID8+PD89ICR2ZXJpZnlfZW1haWxfYW5vbnltb3VzbHkgPyBzcHJpbnRmKCcsICVzICVzJywgJHJlcG9zaXRvcnlfY2xhc3NfbmFtZSwgJHJlcG9zaXRvcnlfdmFyKSA6IG51bGwgPz4pOiBSZXNwb25zZQogICAgewo8P3BocCBpZiAoISR2ZXJpZnlfZW1haWxfYW5vbnltb3VzbHkpOiA/PgogICAgICAgICR0aGlzLT5kZW55QWNjZXNzVW5sZXNzR3JhbnRlZCgnSVNfQVVUSEVOVElDQVRFRF9GVUxMWScpOwo8P3BocCBlbHNlOiA/PgogICAgICAgICRpZCA9ICRyZXF1ZXN0LT5xdWVyeS0+Z2V0KCdpZCcpOwoKICAgICAgICBpZiAobnVsbCA9PT0gJGlkKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfcmVnaXN0ZXInKTsKICAgICAgICB9Cjw/cGhwIGlmICgnJG1hbmFnZXInID09PSAkcmVwb3NpdG9yeV92YXIpOiA/PgoKICAgICAgICAkcmVwb3NpdG9yeSA9ICRtYW5hZ2VyLT5nZXRSZXBvc2l0b3J5KDw/PSAkdXNlcl9jbGFzc19uYW1lID8+OjpjbGFzcyk7CiAgICAgICAgJHVzZXIgPSAkcmVwb3NpdG9yeS0+ZmluZCgkaWQpOwo8P3BocCBlbHNlOiA/PgoKICAgICAgICAkdXNlciA9IDw/PSAkcmVwb3NpdG9yeV92YXI7ID8+LT5maW5kKCRpZCk7Cjw/cGhwIGVuZGlmOyA/PgoKICAgICAgICBpZiAobnVsbCA9PT0gJHVzZXIpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdFRvUm91dGUoJ2FwcF9yZWdpc3RlcicpOwogICAgICAgIH0KPD9waHAgZW5kaWY7ID8+CgogICAgICAgIC8vIHZhbGlkYXRlIGVtYWlsIGNvbmZpcm1hdGlvbiBsaW5rLCBzZXRzIFVzZXI6OmlzVmVyaWZpZWQ9dHJ1ZSBhbmQgcGVyc2lzdHMKICAgICAgICB0cnkgewogICAgICAgICAgICAkdGhpcy0+ZW1haWxWZXJpZmllci0+aGFuZGxlRW1haWxDb25maXJtYXRpb24oJHJlcXVlc3QsIDw/PSAkdmVyaWZ5X2VtYWlsX2Fub255bW91c2x5ID8gJyR1c2VyJyA6ICckdGhpcy0+Z2V0VXNlcigpJyA/Pik7CiAgICAgICAgfSBjYXRjaCAoVmVyaWZ5RW1haWxFeGNlcHRpb25JbnRlcmZhY2UgJGV4Y2VwdGlvbikgewogICAgICAgICAgICAkdGhpcy0+YWRkRmxhc2goJ3ZlcmlmeV9lbWFpbF9lcnJvcicsIDw/cGhwIGlmICgkdHJhbnNsYXRvcl9hdmFpbGFibGUpOiA/PiR0cmFuc2xhdG9yLT50cmFucygkZXhjZXB0aW9uLT5nZXRSZWFzb24oKSwgW10sICdWZXJpZnlFbWFpbEJ1bmRsZScpPD9waHAgZWxzZTogPz4kZXhjZXB0aW9uLT5nZXRSZWFzb24oKTw/cGhwIGVuZGlmID8+KTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCc8Pz0gJHJvdXRlX25hbWUgPz4nKTsKICAgICAgICB9CgogICAgICAgIC8vIEBUT0RPIENoYW5nZSB0aGUgcmVkaXJlY3Qgb24gc3VjY2VzcyBhbmQgaGFuZGxlIG9yIHJlbW92ZSB0aGUgZmxhc2ggbWVzc2FnZSBpbiB5b3VyIHRlbXBsYXRlcwogICAgICAgICR0aGlzLT5hZGRGbGFzaCgnc3VjY2VzcycsICdZb3VyIGVtYWlsIGFkZHJlc3MgaGFzIGJlZW4gdmVyaWZpZWQuJyk7CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfcmVnaXN0ZXInKTsKICAgIH0KPD9waHAgZW5kaWY7ID8+Cn0KIjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGRvY0Jsb2NrIjtOO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";